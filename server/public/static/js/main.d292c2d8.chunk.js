(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(e,t,a){e.exports=a(72)},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(31),i=a.n(r),l=(a(40),a(1)),c=a(2),o=a(4),u=a(3),h=a(5),m=(a(41),a(7)),p=a(13),d=a(32),g=(a(42),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).handleLogout=function(e){a.props.logout()},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(d.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"render",value:function(){return this.props.userInSession?s.a.createElement("nav",{className:"nav-style"},s.a.createElement("h4",null,"Welcome ",this.props.userInSession.username),s.a.createElement("button",{className:"button  has-text-weight-bold",onClick:this.handleLogout},"Logout")):s.a.createElement("nav",{className:"nav-style"},s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(m.b,{to:"/signup"},"Signup")),s.a.createElement("li",null,s.a.createElement(m.b,{to:"/login"},"Login"))))}}]),t}(n.Component)),v=a(12),f=a(15),E=a.n(f),b=function e(){var t=this;Object(l.a)(this,e),this.signup=function(e,a){return t.service.post("/signup",{username:e,password:a}).then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/currentUser").then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout").then((function(e){return e.data}))},this.service=E.a.create({baseURL:"".concat("https://shopaholics.herokuapp.com/api","/auth"),withCredentials:!0})},w=(a(65),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.signup(t,n).then((function(e){a.setState({username:"",password:""}),a.props.getUser(e.user)})).catch((function(e){a.setState({username:t,password:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(v.a)({},n,s))},a.state={username:"",password:""},a.service=new b,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h2",null,"Welcome!"),s.a.createElement("h3",null,"to stop being a compulsive shopper create an account next:"),s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("fieldset",null,s.a.createElement("label",{className:"quetepintes"},"Username "),s.a.createElement("input",{className:"input-signup",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),s.a.createElement("fieldset",null,s.a.createElement("label",{className:"quetepintes"},"Password   "),s.a.createElement("input",{className:"input-signup",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),s.a.createElement("input",{className:"submit",type:"submit",value:"Sign up"})),s.a.createElement("h1",{className:"error"},this.state.error?"Error":""))}}]),t}(n.Component)),S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then((function(e){a.setState({username:t,password:n,error:!1}),a.props.getUser(e),a.props.history.push("/user/".concat(e._id))})).catch((function(e){a.setState({username:t,password:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(v.a)({},n,s))},a.state={username:"",password:""},a.service=new b,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h3",null,"Please, login to our site"),s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("fieldset",null,s.a.createElement("label",{className:"quetepintes"},"Username"),s.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),s.a.createElement("fieldset",null,s.a.createElement("label",{className:"quetepintes"},"Password "),s.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),s.a.createElement("input",{type:"submit",value:"Login"})),s.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(n.Component),O=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,{className:"main"},s.a.createElement("h1",null,"Welcome to Shopaholic."),s.a.createElement("div",{className:"welcome"},s.a.createElement("h1",null,"To stop throwing your money, please click next:"),s.a.createElement(m.b,{to:"/Signup",className:"Signup-home"},"Signup"),s.a.createElement("div",{className:"img-home"},s.a.createElement("img",{className:"img-home1",src:"/images/mujer-feliz-tirar-dinero-ilustracion-estilo-retro-pop-art-burbuja-dialogo_88813-219.jpg",alt:""}))))}}]),t}(n.Component),j=function e(){var t=this;Object(l.a)(this,e),this.getAllWishes=function(){return t.service.get("/all").then((function(e){return e.data}))},this.getNewWish=function(e){return t.service.post("/new",e).then((function(e){return e.data}))},this.getOneWish=function(e){return t.service.get("/"+e).then((function(e){return e.data}))},this.updateOneWish=function(e){return t.service.put("/".concat(e)).then((function(e){return e.data}))},this.deleteOneWish=function(e){return console.log(e),t.service.delete("/delete/".concat(e)).then((function(e){return e.data}))},this.service=E.a.create({baseURL:"".concat("https://shopaholics.herokuapp.com/api","/wishes"),withCredentials:!0})},N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.title,n=a.state.description,s=a.state.price,r=a.state.date,i=a.state.deadline,l=a.state.image,c=a.state.wishGranted;a.service.getNewWish(a.state).then((function(e){a.setState({title:"",description:"",price:0,date:"",deadline:"",image:"",wishGranted:""})})).catch((function(e){a.setState({title:t,description:n,price:s,date:r,deadline:i,image:l,wishGranted:c,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(v.a)({},n,s))},a.state={title:"",description:"",price:0,date:"",deadline:"",image:"",wishGranted:""},a.service=new j,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(m.b,{to:"/user/".concat(this.props.userInSession._id)},"Back to Wishes"),s.a.createElement("h1",null,"Add a new wish"),s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("label",{className:"quetepintes"},"Title:"),s.a.createElement("input",{type:"text",name:"title",value:this.state.title,placeholder:"title",onChange:this.handleChange}),s.a.createElement("label",{className:"quetepintes"},"Description:"),s.a.createElement("input",{type:"text",name:"description",value:this.state.description,placeholder:"description",onChange:this.handleChange}),s.a.createElement("label",{className:"quetepintes"},"Price:"),s.a.createElement("input",{type:"number",name:"price",checked:this.state.price,placeholder:"price",onChange:this.handleChange}),s.a.createElement("label",{className:"quetepintes"},"date"),s.a.createElement("input",{type:"text",name:"date",value:this.state.date,placeholder:"date",onChange:this.handleChange}),s.a.createElement("label",{className:"quetepintes"},"deadline"),s.a.createElement("input",{type:"text",name:"deadline",value:this.state.deadline,placeholder:"deadline",onChange:this.handleChange}),s.a.createElement("label",{className:"quetepintes"},"Image"),s.a.createElement("input",{type:"text",name:"image",value:this.state.image,placeholder:"image",onChange:this.handleChange}),s.a.createElement("label",{className:"quetepintes"},"Wish Granted:"),s.a.createElement("input",{type:"text",name:"wishGranted",value:this.state.wishGranted,placeholder:"add the link to shop your wish \ud83d\ude04",onChange:this.handleChange}),s.a.createElement("input",{type:"submit",value:"Submit"})),s.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(n.Component);a(66);function y(){return s.a.createElement("footer",{className:"footer-container"},s.a.createElement("div",{className:"share"},s.a.createElement("a",{className:"whatsapp",href:"whatsapp://send?text=shopaholics.herokuapp.com","data-action":"share/whatsapp/share"}," ",s.a.createElement("img",{src:"/images/whatsapp-icone.png",alt:""})," ")),s.a.createElement("div",{className:"copyright"},s.a.createElement("h6",null,"\xa9 Shopaholics & co")),s.a.createElement("div",null,"Contact"))}a(67);var C=function e(){var t=this;Object(l.a)(this,e),this.getAllSavings=function(e){return t.service.get("/all/".concat(e)).then((function(e){return e.data}))},this.getNewSaving=function(e){return t.service.post("/new",e).then((function(e){return e.data}))},this.deleteFinance=function(e){return t.service.delete("/:id").then((function(e){return e.data}))},this.service=E.a.create({baseURL:"".concat("https://shopaholics.herokuapp.com/api","/finances"),withCredentials:!0})},k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={totalSavings:0},a.service=new C,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.sumAllSavings()}},{key:"sumAllSavings",value:function(){var e=this,t=this.props.user;this.service.getAllSavings(t).then((function(t){var a=t.reduce((function(e,t){return console.log(e,t),t&&e+t.saving}),0);e.setState({totalSavings:a})}))}},{key:"render",value:function(){return s.a.createElement(m.b,{className:"wish-list",to:"/wishes/".concat(this.props._id)},s.a.createElement("img",{src:this.props.image,alt:""}),s.a.createElement("h3",{className:"title-row"},this.props.title," "),s.a.createElement("h5",{className:"price-row",style:{color:this.props.price<this.state.totalSavings?"#00cc66":"#B8144B"}},this.props.price,"\u20ac"))}}]),t}(s.a.Component),U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).service=new j,a.state={wishes:[]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.getAllWishes().then((function(t){e.setState({wishes:t})}))}},{key:"render",value:function(){return s.a.createElement("section",{className:"wishlist"},s.a.createElement(m.b,{className:"linknew font-weight-bold",to:"/new"},"New Wish"),this.state.wishes&&this.state.wishes.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,"Your Wish List "),s.a.createElement("div",{className:"wishitems"},s.a.createElement("div",{className:" table is-striped"},this.state.wishes.map((function(e){return s.a.createElement(k,Object.assign({},e,{key:e._id}))}))))))}}]),t}(s.a.Component);function W(e){return s.a.createElement("div",{id:"social"},s.a.createElement("h1",null,"Do something Social"),s.a.createElement("h2",null,"how much do you want to contribute? "),s.a.createElement("br",null),s.a.createElement("a",{className:"donate is-large",target:"_blank",href:"https://www.aecc.es/es/colabora/dona"},"Donate"))}var I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleSaving=function(e){a.setState({saving:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.service.getNewSaving(a.state).then((function(e){a.sumAllSavings()}))},a.state={saving:"",totalSavings:0},a.service=new C,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.sumAllSavings()}},{key:"sumAllSavings",value:function(){var e=this,t=this.props.match.params.id;this.service.getAllSavings(t).then((function(t){var a=t.reduce((function(e,t){return console.log(e,t),t&&e+t.saving}),0);e.setState({totalSavings:a,saving:""})}))}},{key:"render",value:function(){var e=this;return console.log("render"),s.a.createElement("div",{className:"finances"},s.a.createElement("br",null),s.a.createElement("h1",null,"Saved until today:",s.a.createElement("span",null,this.state.totalSavings," \u20ac")),s.a.createElement("br",null),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",null,"Add new saving:"),s.a.createElement("input",{type:"text",name:"saving",value:this.state.saving,placeholder:"new saving",onChange:function(t){return e.handleSaving(t)}}),s.a.createElement("input",{type:"submit",value:"Submit"})),this.state.totalSavings>700?s.a.createElement(W,null):null)}}]),t}(n.Component);a(68);function x(e){return s.a.createElement("div",null,s.a.createElement("div",{id:"home"},s.a.createElement("div",{className:"wishlist col-6"},s.a.createElement(U,null)),s.a.createElement("div",{className:"col-6"},s.a.createElement(I,Object.assign({sumAllSavings:function(t){return e.sumAllSavings(t)}},e)))))}a(69),a(70);var A=a(20),D=a.n(A),_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).deleteOneWish=function(e){a.service.deleteOneWish(e).then((function(){return a.props.history.push("/user/".concat(a.props.userInSession._id))})).catch((function(e){return console.log(e)}))},a.updateOneWish=function(e){a.services.updateOneWish(e).then((function(e){return a.setState({wishes:e})})).catch((function(e){return console.log(e)}))},a.days=function(){var e=D()(a.state.wish.date),t=D()(a.state.wish.wishgranted);return console.log(e,t),t.diff(e,"days")+" days remaining"},a.service=new j,a.state={wish:{}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.getOneWish(this.props.match.params.id).then((function(t){e.setState({wish:t})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"hero-single"},s.a.createElement("div",{className:"contaniner"}),s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(m.b,{className:"back-wish",to:"/user/".concat(this.props.userInSession._id)},"Back to Wishes")),s.a.createElement("h1",null,this.state.wish.title),s.a.createElement("h2",{className:"descrption:"},this.state.wish.description),s.a.createElement("h2",{className:"price:"},"Price: ",this.state.wish.price," \u20ac"),s.a.createElement("h2",{className:"date:"},"Date: ",this.state.wish.date),s.a.createElement("h2",{className:"deadline:"},"Deadline: ",this.state.wish.deadline),s.a.createElement("h2",{className:"limit"},"Limit: ",this.days()),s.a.createElement("a",{target:"_blank",href:this.state.wish.wishGranted},s.a.createElement("h2",null,"Wish Granted"))),s.a.createElement("div",{className:"container2"},s.a.createElement("img",{className:"img-single",src:this.state.wish.image,alt:""}),s.a.createElement("br",null),s.a.createElement("div",{className:"buttons-del-up"},s.a.createElement("button",{className:"button is-dark is-large",onClick:function(){return e.deleteOneWish(e.state.wish._id)}},"Delete"),s.a.createElement("button",{className:"button is-dark is-large",onClick:function(){return e.updateOneWish(e.state).wish._id}},"Update"))))}}]),t}(s.a.Component),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getUser=function(e){a.setState({loggedInUser:e})},a.logout=function(){a.service.logout().then((function(){a.setState({loggedInUser:null,navigate:!0},(function(){return console.log(a.state)}))}))},a.state={loggedInUser:null,navigate:!1},a.service=new b,a.fetchUser(),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"fetchUser",value:function(){var e=this;return this.service.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement(m.b,{to:"/"}),s.a.createElement("img",{id:"shop-logo",src:"/images/shopaholics_blanco.svg",alt:"Shopaholic"}),s.a.createElement("div",{className:"navbar"},s.a.createElement(g,Object.assign({userInSession:this.state.loggedInUser,logout:this.logout},this.props)))),s.a.createElement("main",{className:"container"},s.a.createElement(p.d,null,s.a.createElement(p.b,{path:"/new",exact:!0,render:function(){return s.a.createElement(N,{userInSession:e.state.loggedInUser})}}),s.a.createElement(p.b,{exact:!0,path:"/user/:id",render:function(e){return s.a.createElement(x,e)}}),s.a.createElement(p.b,{exact:!0,path:"/wishes/:id",render:function(t){return s.a.createElement(_,Object.assign({},t,{userInSession:e.state.loggedInUser}))}}))),s.a.createElement(y,null))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("img",{id:"shop-logo",src:"/images/shopaholics_blanco.svg",alt:"Shopaholic"}),s.a.createElement("div",{className:"navbar"},s.a.createElement(g,Object.assign({userInSession:this.state.loggedInUser,logout:this.logout},this.props)))),s.a.createElement("main",null,s.a.createElement(p.d,null,s.a.createElement(p.b,{exact:!0,path:"/",render:function(){return s.a.createElement(O,null)}}),s.a.createElement(p.b,{exact:!0,path:"/signup",render:function(){return s.a.createElement(w,{getUser:e.getUser})}}),s.a.createElement(p.b,{exact:!0,path:"/login",render:function(t){return s.a.createElement(S,Object.assign({getUser:e.getUser},t))}}))),this.state.navigate&&s.a.createElement(p.a,{to:"/",push:"true"}),s.a.createElement(y,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(m.a,null,s.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.d292c2d8.chunk.js.map